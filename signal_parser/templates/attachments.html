<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Signal Attachments</title>
    <link rel="icon" type="image/png" sizes="30x30" href="data:image/png;base64,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" />
<style>
body { margin: 0; }
.navbar { overflow: hidden; background-color: #3974ed; position: fixed; top: 0; width: 100%; color: white; }
.navbar a { float:left; display: block; color: white; text-align: center; padding: 10px 10px; text-decoration: none; font-family: "Calibri"; }
.navbar a:hover { background: white; color: #3974ed; }
.main { margin-top: 80px; margin-left: 5px; }
.title { color: #3974ed; font-family: "Calibri"; position: fixed; margin-top: -41px; background: white; width: 100%; margin-left: 5px; border-bottom: solid #3974ed; padding-top: 2px; padding-bottom: 2px; }
.url { color: #3974ed; font-family: "Calibri"; }
.header { padding: 2px; width: 200px; font-family: "Calibri"; font-weight: bold;}
.column-1 { padding: 2px; width: 200px; font-family: "Calibri"; }
.column-2 { padding: 2px; width: 100%; font-family: "Calibri"; }
.row { display: flex; }
.row:hover { background: #3974ed; color: white; }
.row:hover a:link { color: white; }
.row:hover a:hover { color: white; }
.row:hover a:active { color: white; }
.row:hover a:visited { color: white; }
.key { color: #3974ed; font-family: "Calibri"; }
.column-2 a:link { color: #3974ed; font-family: "Calibri"; }
.column-2 a:hover { color: green; }
.column-2 a:active { color: #3974ed; font-family: "Calibri"; }
</style>
</head>
<body>
<div class="navbar"><a href="/">Home</a><a href="device.html">Signal Device Info</a><a href="applogs.html">App Logs</a><a href="mainlogs.html">Main Logs</a><a href="#">Top</a></div>
<h1 class="title">Signal Message Attachments for {{ device_number }}</h1>
<div class="main">
<br />
{% for msg in messages %}
  {% set conversation = msg.conversationId %}
  {% if msg.hasAttachments|string() == '1' %}
    {% for attachment in msg.Attachments %}
      <div class="url"><a href="{{ url_for('static', filename=attachment) }}">{{ msg.AttachmentDetails.fileName }}</div></a>
      <div class="row"><div class="column-1" title="conversationId">conversationId</div><div class="column-2"><a href="{{ url_for('conversation', contact=conversation) }}">{{ conversation }}</div></a></div>
      {% for k, v in msg.AttachmentDetails.items() %}
        <div class="row">
        {% if k == "thumbnail" or k == "screenshot" %}
          {% set att_path = "attachments.noindex/" + v["path"]|replace('\\','/') %}
          <div class="column-1" title="{{ v }}">{{ k }}</div><div class="column-2"><a href="{{ url_for('static', filename=att_path) }}">{{ att_path }}</a> contentType: {{ v["contentType"] }} width: {{ v["width"] }} height: {{ v["height"] }}</div>
        {% elif k == "path" %}
          <div class="column-1" title="{{ v }}">{{ k }}</div><div class="column-2"><a href="{{ url_for('static', filename=v) }}">{{ v }}</div></a>
        {% else %}
          <div class="column-1" title="{{ v }}">{{ k }}</div><div class="column-2">{{ v }}</div>
        {% endif %}
        </div>
      {% endfor %}
      <p>
    {% endfor %}
  {% endif %}
{% endfor %}
</div>
</body>
</html>
